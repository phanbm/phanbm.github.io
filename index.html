<!DOCTYPE html>

<html>
<head> <!-- Contains title, style, scripts and meta info, etc-->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
   	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
   	<title>Home page of Bryan M. Phan</title>
   	<script src="twgl-full.js"></script>
   	<style> /* example of CSS internal style sheet*/

   		/* The '*' selector selects all elements and does something specified to them */

   		canvas {
   			display: block;
   			width: 50vw;
   			height: 50vh;
   			margin:0em; padding:0em;
   			/*background: repeating-linear-gradient(62deg, #777777 0vw,#aa9988 1vw,#777777 4vw);*/
   		}

		body {
			margin:0em; padding:1em;
   			background-color: lightblue;
		}

		h1 {
    		color: maroon;
    		margin-left: 40px;
    		font-family: "Lucida Console", Monaco, monospace;
		} 
	</style> <!-- end of example of CSS internal style sheet (for head element) -->
</head>

<body bgcolor="#ffffff">

	<canvas id="c" width="442" height="366"></canvas>

	<h1><center>Home Page of Bryan Minh-Triet Phan</center></h1>

	<a href="https://github.com/phanbm">My GitHub Profile</a>

	<p>
		<a href="https://www.linkedin.com/in/bryanmtphan/">My LinkedIn Profile</a>
	</p>

	<p> 
		My name is Bryan Phan. I will be graduating from the University of Virginia on May 19, 2017 with a BA in Computer Science and a BA in Linguistics. 
	</p>

	<p>
		I am currently seeking a full-time computing position.
	</p>

	<hr> 

	<i>Maintained by <A HREF="mailto:bmp4jd@virginia.edu">bmp4jd@virginia.edu</A>
		<br>
		Last Modified:  June 1, 2017 at 6:44 PM
	</i>

	<script id="vs" type="x-shader/x-vertex">
		uniform mat4 u_modelView;
      
      	attribute vec4 a_position;
      	attribute vec4 a_color;
      	attribute vec2 a_texcoord;
      	varying vec4 v_color;  

      	varying vec2 v_texcoord;
      

      	void main() {
        	//gl_Position = a_position;
        	gl_Position = u_modelView * a_position;
        	v_color = a_color; //set per vertex and read per pixel -> this moves the value forward to be used by the next shader
        	v_texcoord = a_texcoord;
      	}
	</script>


	<script id="fs" type="x-shader/x-fragment">
	//fragment shader 1: uses textures
      precision mediump float;

      uniform vec4 u_color;
      varying vec4 v_color;
      varying vec2 v_texcoord;
      uniform sampler2D u_tex;

      void main() {
       // vec4 color = texture2D(u_tex, v_texcoord);
       // vec3 rgb = color.rgb*color.a + u_color.rgb*(1.0 - color.a);
       // gl_FragColor = vec4(rgb, 1);
      }	
	</script>

	<script type="text/javascript">
		"use strict";
		//same vertex shader used by both triangles
		twgl.setDefaults({attribPrefix: "a_"});
      var gl = twgl.getWebGLContext(document.getElementById("c"));
     
      var programInfo = twgl.createProgramInfo(gl, ["vs", "fs"]);

      

      var arrays = {
        position: [
          0.3, -0.25, -0.0,
          -0.3, -0.25, -0.1,
          0.0, 0.5, -0.0,
        ],
        color: [            // 0.0 - 1.0 range for colors
          0,1,0.5,1,
          1,1,1,1,
          1,0,1,0,
        ],
        texcoord: [
          .3,.3,
          .3,.7,
          .7,.3,
        ],
        indices:  [ //doesn't become attached to an attribute
          0, 1, 2,
        ],
      };

      var arrays2 = {
        position: [
          0.3, 0.25, -0.0,    //vertices for the second triangle
          -0.3, 0.25, -0.0,
          0.0, -0.5, -0.0,
        ],
        color: [            // 0.0 - 1.0 range for colors
          0,1,0.5,1,         //colors for second triangle
          0,0,0,1,
          1,0,1,1,
        ],
        indices:  [ //doesn't become attached to an attribute
          0, 1, 2,
        ],
      };

      // next line attaches buffer object to arrays that takes a bunch of code in OpenGL
      // this line also attaches the array elems in "var arrays" to the attributes that have the name corresponding to the string resulting from adding the "attribPrefix" before the array elems' names
      var bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);
      var tex = twgl.createTexture(gl, {
        min: gl.NEAREST,
        mag: gl.NEAREST,
        src: [
          255, 255, 255, 255,
          192, 192, 192, 255,
          192, 192, 192, 255,
          255, 255, 255, 255,
        ],
      });

      var uniforms = {
        // any constant uniforms could be placed here
        u_tex: tex,
      };

      //this render() function basically does everything
      function render(time) {
        time *= 0.001; // because time given is in milliseconds

        // resize if needed and clear old content
        twgl.resizeCanvasToDisplaySize(gl.canvas);
        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);

        gl.enable(gl.DEPTH_TEST);
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

        //set the uniform by putting values into uniform object
        uniforms.u_color = [
          Math.cos(time)*0.5+0.5,
          Math.cos(time/Math.PI)*0.5+0.5,
          Math.cos(time/Math.E)*0.5+0.5,
          1
        ];

        uniforms.u_modelView = twgl.m4.rotationY(time);

        gl.useProgram(programInfo.program);
        twgl.setBuffersAndAttributes(gl, programInfo, bufferInfo);
        twgl.setUniforms(programInfo, uniforms);
        gl.drawElements(gl.TRIANGLES, bufferInfo.numElements, gl.UNSIGNED_SHORT, 0);
       
        requestAnimationFrame(render);
      }
      requestAnimationFrame(render);

	</script>
</body>

</html>